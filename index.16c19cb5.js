import{o as openBlock,c as createElementBlock,n as normalizeClass,S as Synth,r as ref,a as computed,w as watchEffect,b as onMounted,d as createBaseVNode,e as withDirectives,v as vModelText,F as Fragment,f as renderList,g as Swal,s as start,h as createBlock,i as createVNode,j as createApp}from"./vendor.7b8628f2.js";const p=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}};p();const KeyboardKey_vue_vue_type_style_index_0_scoped_fc259e8d_lang="",_export_sfc=(e,n)=>{const a=e.__vccOpts||e;for(const[i,o]of n)a[i]=o;return a},_hoisted_1$1=["id"],_sfc_main$2={__name:"KeyboardKey",props:{accidental:{type:Boolean,default:!1},note:{type:String,required:!0}},emits:["note-played"],setup(e,{emit:n}){const a=e;return(i,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["key",a.accidental?"black-key "+a.note:"white-key "+a.note]),id:"key-"+a.note,onClick:o[0]||(o[0]=s=>n("note-played",a.note))},null,10,_hoisted_1$1))}},KeyboardKey=_export_sfc(_sfc_main$2,[["__scopeId","data-v-fc259e8d"]]),materialize_min="",imgUrl="/assets/keyguide.1199d9ba.png",ToneLockSecureControl_vue_vue_type_style_index_0_lang="",_hoisted_1=createBaseVNode("nav",{id:"main-nav"},[createBaseVNode("div",{class:"nav-wrapper teal lighten-2"},[createBaseVNode("a",{id:"logo-link",href:"#",class:"brand-logo"},"ToneLock v0.1.0")])],-1),_hoisted_2={id:"general-controls"},_hoisted_3={class:"input-field"},_hoisted_4=createBaseVNode("label",{for:"password-input",class:"active"},"Entered Text:",-1),_hoisted_5=["value"],_hoisted_6={id:"synth-controls"},_hoisted_7=createBaseVNode("label",{class:"white-text",for:"sustain"},"Sustain",-1),_hoisted_8=createBaseVNode("label",{class:"white-text",for:"release"},"Release",-1),_hoisted_9=createBaseVNode("label",{class:"white-text",for:"decay"},"Decay",-1),_hoisted_10=createBaseVNode("label",{class:"white-text",for:"attack"},"Attack",-1),_hoisted_11={id:"keyboard-wrapper"},_sfc_main$1={__name:"ToneLockSecureControl",setup(__props){const _0x7591=new Synth().toDestination(),sustain=ref(.5),release=ref(.5),decay=ref(.5),attack=ref(0),textInput=ref(""),_0x7666=ref([]);let __0x74a4x3=!0;const envelopeChange=computed(()=>_0x7591.envelope.sustain!==sustain.value||_0x7591.envelope.release!==release.value||_0x7591.envelope.decay!==decay.value||_0x7591.envelope.attack!==attack.value),_0x4216={a:"C4",w:"C#4",s:"D4",e:"D#4",d:"E4",f:"F4",t:"F#4",g:"G4",y:"G#4",h:"A4",u:"A#4",j:"B4",k:"C5",o:"C#5",l:"D5",p:"D#5"};window.addEventListener("keydown",e=>{if(e.repeat!==void 0&&(__0x74a4x3=!e.repeat),!__0x74a4x3||e.defaultPrevented)return;const n=e.key,a=_0x4216[n];a&&__0x95b4x3(a)}),window.addEventListener("keyup",e=>{__0x74a4x3=!0}),window.addEventListener("focus",e=>{__0x74a4x3=!0});function __0x95b4x3(e){const n=Object.keys(_0x4216).find(o=>_0x4216[o]===e);n&&_0x7666.value.push(n),textInput.value=_0x7666.value.join("");const a=document.getElementById(`key-${e}`),i=__0x72b4x3(e);a.classList.add(i),_0x7591[__x90111c("dHJpZ2dlckF0dGFja1JlbGVhc2U=")](e,"8n"),setTimeout(()=>{a.classList.remove(i)},10*(2**5+9*2))}function __0x72b4x3(e){return e.includes("#")?__x90111c("YWN0aXZl"):"active2"}async function __x59112b(){await Swal.fire({title:"Using ToneLock",text:"Use the keyboard to activate the piano key to input the password. The keys can also be clicked with the mouse.",imageUrl:imgUrl,imageHeight:300,width:700,imageAlt:"A keyboard guide"});const e=await Swal.fire({title:__x90111c("J1JlYWR5IHRvIHN0YXJ0Pyc="),text:__x90111c("J0NsaWNrIG9rIHRvIGNvbnRpbnVlJw==")});(e.isConfirmed||e.isDismissed)&&start()}function resetEnvelope(){sustain.value=.5,attack.value=0,decay.value=.5,release.value=.5}function __x90111c(fl4g){for(let e=0;e<3;e++)e.toString();return eval("atob")(fl4g)}function __x90112c(_fl4g){const z=__x90113c();return eval(__x90111c("U3RyaW5nLmZyb21DaGFyQ29kZQ=="))(...z)}function __x90113c(e){return[1+10.2,10.8,10.1,9+.7,11.5,10.1].map(n=>n*(2**3+2))}function __x890112c(){const lli=eval(__x90111c("QXJyYXkoNjksIDU3LCA1MiwgNjcsIDY1LCA0OCwgNTQsIDU2LCA0NSwgNjksIDUyLCA1NywgNTIsIDQ1LCA1MiwgNjgsIDY5LCA1NCk=")),lii=eval(__x90111c("QXJyYXkoNDUsNjYsNTAsNTMsNDgsNDUsNDksNjkp")),lll=eval(__x90111c("QXJyYXkoNjArNywgNTErMSwgNjgsIDY5LCA1NiwgNTMsIDUzLCAoNSoxMikrOCwgNTEsIDUyKQ")),iii=lli.concat(lii);return iii.concat(lll)}return watchEffect(()=>{if(envelopeChange&&_0x7591.set({envelope:{sustain:sustain.value,release:release.value,decay:decay.value,attack:attack.value}}),_0x7666.value.join("").includes(__x90112c())){const x=__x890112c(),t=eval(__x90111c("U3RyaW5nLmZyb21DaGFyQ29kZQ=="))(...x);Swal.fire({title:String.fromCharCode(70,4*25+2**3,97,103,3*11),text:String.fromCharCode(83,67,84,70,50,50,123)+t+"}",icon:__x90111c("c3VjY2Vzcw==")}),_0x7666.value.splice(0)}_0x7666.value.length>2**4+4-6&&(Swal["  fire".trim()]({title:"Failure!",text:__x90111c("VW5sb2NrIGF0dGVtcHQgZmFpbGVkLCBjbGVhcmluZyBpbnB1dA=="),icon:"error"}),_0x7666.value.splice(0))}),onMounted(()=>{console.log("TODO: move the key out of the front end code"),__x59112b()}),(e,n)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1,createBaseVNode("div",_hoisted_2,[createBaseVNode("button",{class:"waves-effect waves-light btn",onClick:resetEnvelope},"reset envelope"),createBaseVNode("div",_hoisted_3,[_hoisted_4,createBaseVNode("input",{id:"password-input",name:"password-input",type:"text",readonly:!0,value:_0x7666.value.join("")},null,8,_hoisted_5)])]),createBaseVNode("div",_hoisted_6,[_hoisted_7,withDirectives(createBaseVNode("input",{id:"sustain","onUpdate:modelValue":n[0]||(n[0]=a=>sustain.value=a),name:"sustain",type:"range",step:"0.1",min:"0",max:"1"},null,512),[[vModelText,sustain.value,void 0,{number:!0}]]),_hoisted_8,withDirectives(createBaseVNode("input",{id:"release","onUpdate:modelValue":n[1]||(n[1]=a=>release.value=a),name:"release",type:"range",step:"0.1",min:"0",max:"5"},null,512),[[vModelText,release.value,void 0,{number:!0}]]),_hoisted_9,withDirectives(createBaseVNode("input",{id:"decay","onUpdate:modelValue":n[2]||(n[2]=a=>decay.value=a),name:"decay",type:"range",step:"0.1",min:"0",max:"2"},null,512),[[vModelText,decay.value,void 0,{number:!0}]]),_hoisted_10,withDirectives(createBaseVNode("input",{id:"attack","onUpdate:modelValue":n[3]||(n[3]=a=>attack.value=a),name:"attack",type:"range",step:"0.1",min:"0",max:"2"},null,512),[[vModelText,attack.value,void 0,{number:!0}]])]),createBaseVNode("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.values(_0x4216),(a,i)=>(openBlock(),createBlock(KeyboardKey,{note:a,onNotePlayed:n[4]||(n[4]=o=>__0x95b4x3(o)),key:i,accidental:a.includes("#")},null,8,["note","accidental"]))),128))])],64))}},App_vue_vue_type_style_index_0_lang="",_sfc_main={__name:"App",setup(e){return(n,a)=>(openBlock(),createElementBlock("main",null,[createVNode(_sfc_main$1)]))}};createApp(_sfc_main).mount("#app");
//# sourceMappingURL=index.16c19cb5.js.map
